import React from 'react'
import Icon from 'shared/views/interface/Icon'

const Header = React.createClass({

  propTypes: {
    title: React.PropTypes.string,
    color: React.PropTypes.string,
    rightAccessory: React.PropTypes.object,
    leftAccessory: React.PropTypes.object
  },

  getDefaultProps() {
    return {
      color: "bg-primary"
    }
  },

  render() {
    let {title, color, leftAccessory, rightAccessory} = this.props
    if (!leftAccessory && history.length > 0 && !/#\/\?|home\?|browse\?|search\?|more\?/.test(location.hash)) {
      leftAccessory = (
        <div onClick={() => history.go(-1)}>
          <Icon name='left-open' className="h3 sm-h3 mnr1"/>
        </div>
      )
    }

    // TODO: move this to a Logo component
    if (!title) {
      title = (
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewBox="0 0 360 144" enable-background="new 0 0 360 144">
          <path fill="#FFFFFF" d="M26.9 28.9c7.5 0 12.3 1.1 15.7 2.5V34c-5.2-1.9-9.5-2.6-15.7-2.6 -16 0-22 10-22 30s6.1 30 22 30c6.3 0 10.4-0.7 15.7-2.6v2.6c-3.4 1.4-8.3 2.5-15.7 2.5C8 93.8 2.1 82 2.1 61.3 2.1 40.7 8 28.9 26.9 28.9zM65.6 50.2c14.9 0 17.6 9.2 17.6 21.8 0.1 12.5-2.6 21.8-17.6 21.8S48.1 84.6 48.1 72C48.1 59.5 50.8 50.2 65.6 50.2zM65.6 91.5c13.4 0 14.9-8.7 14.9-19.5 0-10.7-1.5-19.5-14.9-19.5S50.7 61.2 50.7 72C50.8 82.7 52.3 91.5 65.6 91.5zM92.4 82.1c0 7.5 4.1 9.4 11.3 9.4 6 0 11.1-1.1 14.9-3.5V50.7h2.7v42.7H120l-1.2-3.3c-3.7 2.4-10.3 3.7-15.1 3.7 -10 0-14-3.4-14-11.9V50.7h2.7C92.4 50.7 92.4 82.1 92.4 82.1zM136 79.4c-1.8 1.1-3.1 2.5-3.1 4.9 0 2.9 2.5 3.5 4.6 3.7l18 2.5c7.5 1 10.4 4.5 10.4 10.7 0 9.9-10.8 13.8-22.5 13.8 -11.9 0-19.3-3-19.3-12.1 0-7 5.8-11.3 11.5-12.9 -3.5-0.6-5.2-2.5-5.2-5.8 0-2.7 1.7-4.5 3.5-5.8 -4.4-2.5-6-7.1-6-13.1 0-9.2 3.6-15.1 15.5-15.1 1.9 0 3.5 0.2 5 0.4h14.6V53l-9.3-0.2c3.7 2.5 5.1 7 5.1 12.5 0 9.2-3.6 15.1-15.5 15.1C140.4 80.5 138 80.1 136 79.4zM143.4 112.8c10.2 0 19.9-3 19.9-11.5 0-5.1-1.9-7.7-8.2-8.6l-15.8-2.1c-5.1 1.4-12.4 4.8-12.4 12.4C126.7 110.6 132.6 112.8 143.4 112.8zM130.4 65.3c0 6.8 1.9 12.9 13 12.9 11.1 0 13-6.2 13-12.9 0-6.8-1.9-12.9-13-12.9C132.3 52.4 130.4 58.6 130.4 65.3zM170.8 54.3V52c2.4-0.8 7.3-1.8 12.3-1.8 13 0 15.6 5.2 15.6 13.6v29.5h-1.3l-1.2-3.3c-3.6 2.5-10.2 3.7-14.4 3.7 -11 0-14.8-6.3-14.8-13 0-6.5 3-12.2 14.9-12.9l14-0.8v-3c0-8-2.5-11.3-12.9-11.3C177 52.5 172.4 53.7 170.8 54.3zM180.9 70.1c-8.7 0.6-11.3 4.9-11.3 10.6 0 5 1.9 10.7 12.4 10.7 5.4 0 10.2-1.6 14-3.9V69.1L180.9 70.1zM227.7 52.8c-1.2-0.2-2.5-0.3-4-0.3 -6 0-11.1 1.1-14.9 3.5v37.3h-2.7V50.7h1.3l1.2 3.3c3.7-2.4 10.3-3.7 15.1-3.7 1.4 0 2.8 0.1 4 0.3V52.8zM234.5 90.9h31v2.5h-33.6V29.3h2.6V90.9zM273.1 35.3c1.4 0 2.5 1.2 2.5 2.5 0 1.4-1.2 2.5-2.5 2.5 -1.4 0-2.5-1.1-2.5-2.5C270.6 36.5 271.7 35.3 273.1 35.3zM278.3 93.8c-4.5 0-6.5-2-6.5-6.3V50.7h2.5v36.6c0 3.2 0.8 4.3 3.9 4.3V93.8zM289.8 52.9h-8.1v-1.4l8.1-0.9v-9.7c0-7.7 4.6-12 14.8-12 1.3 0 4.4 0.2 5.2 0.3v2.3c-1-0.2-3.5-0.3-5.2-0.3 -7.2 0-12.3 2.4-12.3 9.7v9.7H307v2.3h-14.6v40.4h-2.5V52.9zM341.5 89.4v2.3c-3.3 1.3-9 2.1-13.5 2.1 -14.1 0-17.7-9.1-17.7-21.8s3.5-21.8 17.7-21.8 15.7 9.2 15.7 21.8v1.2H313c0.2 9.7 2.8 18.3 15 18.3C334.3 91.5 338.4 90.4 341.5 89.4zM341.1 70.8c0-9.3-0.9-18.3-13.1-18.3s-14.8 8.6-15 18.3H341.1z"/>
        <g enable-background="new    ">
          <path fill="#FFFFFF" d="M356.6 55.4c0 2.9-2.3 5.2-5.3 5.2 -3 0-5.3-2.3-5.3-5.2 0-2.9 2.4-5.2 5.3-5.2C354.3 50.2 356.6 52.5 356.6 55.4zM347.3 55.4c0 2.3 1.7 4.1 4 4.1 2.3 0 3.9-1.8 3.9-4.1 0-2.3-1.7-4.2-4-4.2C349 51.2 347.3 53.1 347.3 55.4zM350.5 58.1h-1.2v-5.2c0.5-0.1 1.1-0.2 2-0.2 1 0 1.4 0.2 1.8 0.4 0.3 0.2 0.5 0.6 0.5 1.1 0 0.6-0.4 1-1.1 1.2v0.1c0.5 0.2 0.8 0.6 0.9 1.3 0.2 0.8 0.3 1.1 0.4 1.3h-1.3c-0.2-0.2-0.3-0.7-0.4-1.3 -0.1-0.6-0.4-0.8-1.1-0.8h-0.6V58.1zM350.5 55.1h0.6c0.7 0 1.2-0.2 1.2-0.8 0-0.5-0.3-0.8-1.1-0.8 -0.3 0-0.5 0-0.7 0.1V55.1z"/>
        </g>
        </svg>
      )
    }

    return (
      <header className={`row between middle fixed to-top no-highlight ${color}`}>

        <h2 className='sm-h2 left left-align'>
          {leftAccessory}
        </h2>

        <h1 className='sm-h1'>
          {title}
        </h1>

        <h2 className='sm-h2 right right-align'>
          {rightAccessory}
        </h2>

      </header>
    )
  }
})

export default Header
